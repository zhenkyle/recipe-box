"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function recipes(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case types.ADD_RECIPE:return[].concat(_toConsumableArray(e),[{id:e.reduce(function(e,t){return Math.max(t.id,e)},-1)+1,name:t.name,ingredients:t.ingredients}]);case types.DELETE_RECIPE:return e.filter(function(e){return e.id!==t.id});case types.UPDATE_RECIPE:return e.map(function(e){return e.id===t.id?Object.assign({},e,{name:t.name,ingredients:t.ingredients}):e});default:return e}}function editRecipe(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case types.EDIT_RECIPE:return Object.assign({},e,{id:t.id,name:t.name,ingredients:t.ingredients});default:return e}}function mapStateToProps(e){return{recipes:e.recipes,editRecipe:e.editRecipe}}function mapDispatchToProps(e){return{actions:bindActionCreators(RecipeActions,e)}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_React=React,Component=_React.Component,PropTypes=_React.PropTypes,_Redux=Redux,createStore=_Redux.createStore,combineReducers=_Redux.combineReducers,applyMiddleware=_Redux.applyMiddleware,bindActionCreators=_Redux.bindActionCreators,_ReactRedux=ReactRedux,Provider=_ReactRedux.Provider,connect=_ReactRedux.connect,types={ADD_RECIPE:"ADD_RECIPE",DELETE_RECIPE:"DELETE_RECIPE",EDIT_RECIPE:"EDIT_RECIPE",UPDATE_RECIPE:"UPDATE_RECIPE"},RecipeActions={addRecipe:function(e,t){return{type:types.ADD_RECIPE,name:e,ingredients:t}},deleteRecipe:function(e){return{type:types.DELETE_RECIPE,id:e}},editRecipe:function(e,t,a){return{type:types.EDIT_RECIPE,id:e,name:t,ingredients:a}},updateRecipe:function(e,t,a){return{type:types.UPDATE_RECIPE,id:e,name:t,ingredients:a}}},initialState={editRecipe:{id:-1,name:"",ingredients:""},recipes:[{name:"Pumpin Pie",ingredients:"Pumpkin Puree,Sweetened Condensed Milk,Eggs,Pumpkin Pie Spice,Pie Crust",id:0},{name:"Spahetti",ingredients:"Noodles,Tomato Sauce,(Optional) Meatballs",id:1},{name:"Onion Pie",ingredients:"Onion,Pie Crust,Sounds Yummy right?",id:2}]},Recipe=function(e){var t=e.id,a=e.name,n=e.ingredients,r=e.actions;return React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading",role:"tab",id:"headingOne"},React.createElement("h4",{className:"panel-title"},React.createElement("a",{role:"button","data-toggle":"collapse","data-parent":"#accordion",href:"#collapse"+t,"aria-expanded":"false","aria-controls":"collapseOne"},"✔ ",React.createElement("strong",null,a)))),React.createElement("div",{id:"collapse"+t,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":"heading"+t},React.createElement("div",{className:"panel-body"},React.createElement("h4",{className:"text-center"}," Ingredients"),React.createElement("ul",{className:"list-group"},n.split(",").map(function(e,t){return React.createElement("li",{className:"list-group-item",key:t},e)}))),React.createElement("div",{className:"panel-footer"},React.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return r.deleteRecipe(t)}},"Delete"),React.createElement("button",{type:"button",className:"btn btn-default","data-toggle":"modal","data-target":"#myModal1",onClick:function(){return r.editRecipe(t,a,n)}},"Edit"))))};Recipe.propTypes={id:PropTypes.number.isRequired,name:PropTypes.string.isRequired,ingredients:PropTypes.string.isRequired,actions:PropTypes.object.isRequired};var AddRecipe=function(e){var t=e.actions,a=void 0,n=void 0;return React.createElement("div",{className:"modal fade",id:"myModal",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel"},React.createElement("div",{className:"modal-dialog",role:"document"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"×")),React.createElement("h4",{className:"modal-title",id:"myModalLabel"},"Add a Recipe")),React.createElement("div",{className:"modal-body"},React.createElement("form",null,React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"receipe"},"Recipe"),React.createElement("input",{type:"text",className:"form-control",id:"receipe",placeholder:"Receipe Name",ref:function(e){a=e}})),React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"ingredients"},"Ingredients"),React.createElement("input",{type:"text",className:"form-control",id:"ingredients",placeholder:"Enter Ingredients,Seperated,By Commas",ref:function(e){n=e}})))),React.createElement("div",{className:"modal-footer"},React.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){a.value.trim()&&n.value.trim()&&(t.addRecipe(a.value,n.value),a.value="",n.value="")}},"Add Recipe"),React.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close")))))};AddRecipe.propTypes={actions:PropTypes.object.isRequired};var EditRecipe=function(e){var t=e.id,a=e.name,n=e.ingredients,r=e.actions,i=void 0,c=void 0;return React.createElement("div",{className:"modal fade",id:"myModal1",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel"},React.createElement("div",{className:"modal-dialog",role:"document"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"×")),React.createElement("h4",{className:"modal-title",id:"myModalLabel"},"Edit a Recipe")),React.createElement("div",{className:"modal-body"},React.createElement("form",null,React.createElement("div",{className:a.trim()?"form-group":"form-group has-error"},React.createElement("label",{className:"control-label",htmlFor:"receipe"},"Recipe"),React.createElement("input",{type:"text",className:"form-control",id:"receipe",placeholder:"Receipe Name",value:a,onChange:function(){return r.editRecipe(t,i.value,c.value)},ref:function(e){i=e}})),React.createElement("div",{className:n.trim()?"form-group":"form-group has-error"},React.createElement("label",{className:"control-label",htmlFor:"ingredients"},"Ingredients"),React.createElement("input",{type:"text",className:"form-control",id:"ingredients",placeholder:"Enter Ingredients,Seperated,By Commas",value:n,onChange:function(){return r.editRecipe(t,i.value,c.value)},ref:function(e){c=e}})))),React.createElement("div",{className:"modal-footer"},React.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":a.trim()&&n.trim()?"modal":null,onClick:function(){i.value.trim()&&c.value.trim()&&(r.updateRecipe(t,i.value,c.value),i.value="",c.value="")}},"Save Recipe"),React.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close")))))};EditRecipe.propTypes={id:PropTypes.number,name:PropTypes.string,ingredients:PropTypes.string,actions:PropTypes.object.isRequired};var App=function(e){var t=e.recipes,a=e.editRecipe,n=e.actions;return React.createElement("div",null,React.createElement("div",{className:"panel-group",id:"accordion",role:"tablist","aria-multiselectable":"true"},t.map(function(e){return React.createElement(Recipe,_extends({key:e.id},e,{actions:n}))})),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},React.createElement("button",{type:"button",className:"btn btn-lg btn-primary","data-toggle":"modal","data-target":"#myModal"},"Add Recipe"))),React.createElement(AddRecipe,{actions:n}),React.createElement(EditRecipe,{id:a.id,name:a.name,ingredients:a.ingredients,actions:n}),React.createElement("div",{className:"footer"},React.createElement("p",null,"♥ from the Zhenkyle")))};App.propTypes={recipes:PropTypes.array.isRequired,editRecipe:PropTypes.object.isRequired};var AppRecipe=connect(mapStateToProps,mapDispatchToProps)(App),currentValue=JSON.parse(window.localStorage.getItem("_zhenkyle_recipes"));null===currentValue&&(currentValue=initialState.recipes);var myState=Object.assign({},{recipes:currentValue,editRecipe:initialState.editRecipe}),store=createStore(combineReducers({recipes:recipes,editRecipe:editRecipe}),myState,window.devToolsExtension&&window.devToolsExtension());store.subscribe(function(){var e=currentValue;currentValue=store.getState().recipes,e!==currentValue&&window.localStorage.setItem("_zhenkyle_recipes",JSON.stringify(currentValue))}),ReactDOM.render(React.createElement(Provider,{store:store},React.createElement(AppRecipe,null)),document.getElementById("root"));